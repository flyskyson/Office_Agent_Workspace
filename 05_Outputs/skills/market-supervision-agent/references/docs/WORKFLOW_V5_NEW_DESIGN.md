# å¸‚åœºç›‘ç®¡æ™ºèƒ½ä½“ v5.0 - æ–°å·¥ä½œæµè®¾è®¡æ–‡æ¡£

**ç‰ˆæœ¬**: 5.0
**æ›´æ–°æ—¥æœŸ**: 2026-01-15
**æ ¸å¿ƒå˜æ›´**: ç§»é™¤ç½‘é¡µè‡ªåŠ¨åŒ–ï¼Œä¸“æ³¨ Phase 1-4ï¼Œä¸ºå†…ç½‘å¯¹æ¥åšå‡†å¤‡

---

## ğŸ“‹ ç›®å½•

1. [éœ€æ±‚æ¦‚è¿°](#éœ€æ±‚æ¦‚è¿°)
2. [æ–°å·¥ä½œæµè®¾è®¡](#æ–°å·¥ä½œæµè®¾è®¡)
3. [Phase 1-4 è¯¦ç»†è¯´æ˜](#phase-1-4-è¯¦ç»†è¯´æ˜)
4. [æ•°æ®åº“ä¼˜åŒ–](#æ•°æ®åº“ä¼˜åŒ–)
5. [æ–°å¢æ¨¡å—](#æ–°å¢æ¨¡å—)
6. [å†…ç½‘å¯¹æ¥å‡†å¤‡](#å†…ç½‘å¯¹æ¥å‡†å¤‡)
7. [ä¸‹ä¸€æ­¥å·¥ä½œ](#ä¸‹ä¸€æ­¥å·¥ä½œ)

---

## éœ€æ±‚æ¦‚è¿°

### ç”¨æˆ·éœ€æ±‚

> "phase 5 6 7ä¸è¦ï¼Œphase 1\2\3\4,ç»§ç»­å¼€å‘ï¼Œåˆ°ç”³è¯·ä¹¦æ‰“å°å‡ºæ¥ï¼Œå› ä¸ºæˆ‘è¦ç»è¥æˆ·ç­¾å­—ç›–ç« çš„ï¼Œå¦å¤–ï¼Œæ•°æ®åº“çš„æ•°æ®è¦å…¨é¢ï¼Œä¸‹ä¸€æ­¥ï¼Œæˆ‘è¦ç”¨åˆ°è¿™äº›æ•°æ®ï¼Œå¯¹æ¥å†…ç½‘ã€‚ä»¥åæˆ‘æœ‰å¯¹å†…ç½‘ç½‘é¡µè‡ªåŠ¨åŒ–çš„è¦æ±‚ã€‚"

### æ ¸å¿ƒè¦ç‚¹

1. âœ… **ä¿ç•™ Phase 1-4**: æ•°æ®è¾“å…¥ â†’ åç§°å·¥å…· â†’ ææ–™æ ¡éªŒ â†’ ç”³è¯·ä¹¦ç”Ÿæˆ
2. âŒ **ç§»é™¤ Phase 5-7**: æ”¿åŠ¡ç½‘å¡«å†™ã€å®¡æ ¸è¿½è¸ªã€æ‰§ç…§é¢†å–
3. âœ… **å¢åŠ æ‰“å°åŠŸèƒ½**: ç”³è¯·ä¹¦ç”Ÿæˆåæ‰“å°ï¼Œä¾›ç»è¥æˆ·ç­¾å­—ç›–ç« 
4. âœ… **æ•°æ®åº“å…¨é¢**: å®Œå–„å­—æ®µï¼Œä¸ºå†…ç½‘å¯¹æ¥å‡†å¤‡
5. âœ… **é¢„ç•™å†…ç½‘æ¥å£**: ä¸ºæœªæ¥å†…ç½‘é¡µé¢è‡ªåŠ¨åŒ–åšå‡†å¤‡

### å˜æ›´åŸå› 

- âŒ ç½‘é¡µè‡ªåŠ¨åŒ–"å¤ªå¡äº†ï¼Œæ•ˆç‡å¾ˆä½"
- âœ… ç”¨æˆ·éœ€è¦æ§åˆ¶æµç¨‹ï¼ˆç­¾å­—ç›–ç« ç¯èŠ‚ï¼‰
- âœ… æ•°æ®éœ€è¦å¯¹æ¥å†…éƒ¨ç³»ç»Ÿ

---

## æ–°å·¥ä½œæµè®¾è®¡

### å®Œæ•´æµç¨‹å›¾

```mermaid
flowchart LR
    subgraph P1[Phase 1: æ•°æ®è¾“å…¥]
        direction TB
        OCR[OCRè¯†åˆ«<br/>èº«ä»½è¯/æˆ¿äº§è¯]
        UI[Flask UIå½•å…¥<br/>è¡¥å……/ä¿®æ­£]
        OCR --> DB[(æ•°æ®åº“)]
        UI --> DB
    end

    subgraph P2[Phase 2: åç§°å·¥å…·]
        NameGen[ç”Ÿæˆåç§°å»ºè®®]
        NameCheck[æœ¬åœ°æ ¼å¼éªŒè¯]
        NameGen --> NameCheck
    end

    subgraph P3[Phase 3: ææ–™æ ¡éªŒ]
        Validate[ææ–™å®Œæ•´æ€§æ£€æŸ¥]
        Complete{é½å…¨?}
        Complete -->|æ˜¯| P4
        Complete -->|å¦| Alert[æç¤ºç¼ºå¤±]
    end

    subgraph P4[Phase 4: ç”³è¯·ä¹¦ç”Ÿæˆ]
        Template[å®˜æ–¹Wordæ¨¡æ¿]
        AutoFill[æ™ºèƒ½å¡«å……]
        Preview[é¢„è§ˆç¡®è®¤]
        Export[å¯¼å‡ºWord+PDF]
        Print[æ‰“å°]
        Template --> AutoFill --> Preview --> Export --> Print
    end

    subgraph USER[ç”¨æˆ·æ“ä½œ]
        Sign[ç»è¥æˆ·ç­¾å­—ç›–ç« ]
    end

    DB --> P2
    P2 --> P3
    P3 --> P4
    Print --> Sign

    Sign --> Intranet[ğŸ“¡ å†…ç½‘å¯¹æ¥<br/>ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰]
```

### å·¥ä½œæµå¯¹æ¯”

| å¯¹æ¯”é¡¹ | æ—§å·¥ä½œæµ (v4.0) | æ–°å·¥ä½œæµ (v5.0) |
|--------|----------------|----------------|
| **æ•°æ®æº** | OCR + æ”¿åŠ¡ç½‘ + Webè¡¨å• | OCR + Webè¡¨å• |
| **åç§°ç”³æŠ¥** | æ”¿åŠ¡ç½‘è‡ªåŠ¨æŸ¥é‡ | æœ¬åœ°éªŒè¯ + æ‰‹åŠ¨ç¡®è®¤ |
| **ç”³è¯·ä¹¦ç”Ÿæˆ** | ç³»ç»Ÿç”Ÿæˆ | ç³»ç»Ÿç”Ÿæˆ + æ‰“å° |
| **æ”¿åŠ¡ç½‘å¡«å†™** | è‡ªåŠ¨å¡«å†™ | âŒ ç§»é™¤ |
| **å®¡æ ¸è¿½è¸ª** | è‡ªåŠ¨æŸ¥è¯¢ | âŒ ç§»é™¤ |
| **æ‰§ç…§é¢†å–** | è‡ªåŠ¨ä¸‹è½½ | âŒ ç§»é™¤ |
| **å†…ç½‘å¯¹æ¥** | âŒ æ—  | âœ… é¢„ç•™æ¥å£ |

---

## Phase 1-4 è¯¦ç»†è¯´æ˜

### Phase 1: æ•°æ®è¾“å…¥

#### åŒè¾“å…¥æºèåˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¾“å…¥æºâ‘ : OCRè¯†åˆ«                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ ä¸Šä¼ èº«ä»½è¯ç…§ç‰‡ â†’ è‡ªåŠ¨æå–        â”‚
â”‚ â€¢ ä¸Šä¼ æˆ¿äº§è¯ â†’ æå–åœ°å€ä¿¡æ¯        â”‚
â”‚ â€¢ ä¸Šä¼ ç§ŸèµåˆåŒ â†’ æå–ç§Ÿèµä¿¡æ¯      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¾“å…¥æºâ‘¡: Flask Webè¡¨å•             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ æ‰‹åŠ¨è¡¥å……ç¼ºå¤±ä¿¡æ¯                 â”‚
â”‚ â€¢ ä¿®æ­£OCRè¯†åˆ«é”™è¯¯                  â”‚
â”‚ â€¢ å¡«å†™å®Œæ•´æ•°æ®                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
        æ•°æ®èåˆä¿å­˜
            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ æ•°æ®åº“  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ•°æ®èåˆä¼˜å…ˆçº§

**Webè¡¨å• > OCR** (Webè¡¨å•æ•°æ®å¯ä»¥è¦†ç›–OCRæ•°æ®)

#### ä¿ç•™çš„æ¨¡å—

- âœ… [`src/baidu_ocr_engine.py`](src/baidu_ocr_engine.py) - OCRè¯†åˆ«å¼•æ“
- âœ… [`src/data_extractor.py`](src/data_extractor.py) - æ•°æ®æå–å™¨
- âœ… [`ui/flask_app_workflow.py`](ui/flask_app_workflow.py) - Webç•Œé¢

---

### Phase 2: åç§°å·¥å…·

#### æœ¬åœ°åç§°éªŒè¯

**æ–°æ¨¡å—**: [`src/name_tools.py`](src/name_tools.py)

åŠŸèƒ½:
1. **æ ¼å¼éªŒè¯**: æ£€æŸ¥åç§°æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒ
2. **æ•æ„Ÿè¯æ£€æŸ¥**: æ£€æŸ¥æ˜¯å¦åŒ…å«ç¦ç”¨è¯
3. **æœ¬åœ°æŸ¥é‡**: æ£€æŸ¥æœ¬åœ°æ•°æ®åº“ä¸­æ˜¯å¦é‡å¤
4. **æ™ºèƒ½ç”Ÿæˆ**: ç”Ÿæˆ10ä¸ªåç§°å»ºè®®
5. **è¯„åˆ†æ’åº**: æŒ‰å¯ç”¨æ€§è¯„åˆ†æ’åº

#### ä½¿ç”¨ç¤ºä¾‹

```python
from src.name_tools import NameTools

tools = NameTools()

# éªŒè¯åç§°
result = tools.validate_name("ç‰æ—å¸‚å…´ä¸šå¿å¼ ä¸‰ä¾¿åˆ©åº—ï¼ˆä¸ªä½“å·¥å•†æˆ·ï¼‰")
print(f"æœ‰æ•ˆ: {result.is_valid}")
print(f"å¯ä¿¡åº¦: {result.confidence}")

# ç”Ÿæˆå»ºè®®
suggestions = tools.generate_names("å¼ ä¸‰", "ä¾¿åˆ©åº—", "ç‰æ—å¸‚å…´ä¸šå¿", 10)
for suggestion in suggestions:
    print(f"{suggestion.full_name} (è¯„åˆ†: {suggestion.score})")
```

#### åç§°æ ¼å¼è§„èŒƒ

```
è¡Œæ”¿åŒºåˆ’ + å­—å· + è¡Œä¸š + ï¼ˆä¸ªä½“å·¥å•†æˆ·ï¼‰
```

ç¤ºä¾‹:
- ç‰æ—å¸‚å…´ä¸šå¿ + å¼ ä¸‰ + ä¾¿åˆ©åº— + ï¼ˆä¸ªä½“å·¥å•†æˆ·ï¼‰
- å—å®å¸‚é’ç§€åŒº + æå›› + é¤é¥®åº— + ï¼ˆä¸ªä½“å·¥å•†æˆ·ï¼‰

---

### Phase 3: ææ–™æ ¡éªŒ

#### ææ–™æ¸…å•

| ææ–™ | å¿…éœ€æ€§ | è¯´æ˜ |
|------|--------|------|
| èº«ä»½è¯æ­£é¢ | âœ… å¿…éœ€ | OCRè¯†åˆ« |
| èº«ä»½è¯åé¢ | âœ… å¿…éœ€ | OCRè¯†åˆ« |
| ç»è¥åœºæ‰€è¯æ˜ | âœ… å¿…éœ€ | æˆ¿äº§è¯æˆ–ç§ŸèµåˆåŒ |
| ç”³è¯·ä¹¦ | âœ… å¿…éœ€ | ç³»ç»Ÿç”Ÿæˆ |

#### æ ¡éªŒé€»è¾‘

```python
# å½“å‰å®ç°
1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. éªŒè¯æ–‡ä»¶æ ¼å¼
3. OCRè¯†åˆ«å®Œæ•´æ€§
4. èº«ä»½è¯æ ¼å¼æ ¡éªŒ
5. åœ°å€å®Œæ•´æ€§æ£€æŸ¥
```

#### ä¿ç•™çš„æ¨¡å—

- âœ… [`src/material_manager.py`](src/material_manager.py) - ææ–™ç®¡ç†å™¨

---

### Phase 4: ç”³è¯·ä¹¦ç”Ÿæˆ

#### æ–°å¢æ‰“å°åŠŸèƒ½

**æ–°æ¨¡å—**: [`src/application_printer.py`](src/application_printer.py)

åŠŸèƒ½:
1. **ç”ŸæˆWord**: ä½¿ç”¨å®˜æ–¹æ¨¡æ¿æ ¼å¼
2. **è½¬æ¢ä¸ºPDF**: å¯é€‰åŠŸèƒ½ï¼ˆéœ€é¢å¤–é…ç½®ï¼‰
3. **æ‰“å°ç®¡ç†**: è®°å½•æ‰“å°æ¬¡æ•°
4. **æ‰“å°çŠ¶æ€**: è¿½è¸ªæ‰“å°å’Œç­¾å­—çŠ¶æ€

#### ç”Ÿæˆæµç¨‹

```
èåˆæ•°æ®
    â†“
åº”ç”¨é»˜è®¤å€¼
    â†“
å®Œæ•´æ€§æ£€æŸ¥
    â†“
ç”ŸæˆWordæ–‡æ¡£
    â†“
è½¬æ¢ä¸ºPDF (å¯é€‰)
    â†“
æ‰“å°
    â†“
ç»è¥æˆ·ç­¾å­—ç›–ç« 
```

#### ä½¿ç”¨ç¤ºä¾‹

```python
from src.application_printer import ApplicationPrinter

printer = ApplicationPrinter()

# ç”Ÿæˆç”³è¯·ä¹¦
result = printer.generate_application(operator_data)

print(f"æ–‡æ¡£è·¯å¾„: {result.document_path}")
print(f"PDFè·¯å¾„: {result.pdf_path}")
print(f"æ‰“å°ä»»åŠ¡ID: {result.print_job_id}")

# å‡†å¤‡æ‰“å°
print_info = printer.prepare_for_print(result.print_job_id)
print(f"æ‰“å°ä¿¡æ¯: {print_info}")

# æ ‡è®°å·²æ‰“å°
printer.mark_printed(result.print_job_id, operator_data['id'])
```

---

## æ•°æ®åº“ä¼˜åŒ–

### æ–°å¢å­—æ®µåˆ—è¡¨

#### åœºæ‰€ä¿¡æ¯è¯¦ç»†å­—æ®µ

```sql
business_address_detail TEXT     -- ç»è¥åœºæ‰€è¯¦ç»†åœ°å€
business_area TEXT               -- ç»è¥é¢ç§¯ï¼ˆå¹³æ–¹ç±³ï¼‰
business_type TEXT               -- ç»è¥ç±»å‹ï¼ˆä¸ªä½“/å®¶åº­ï¼‰
```

#### ç»è¥èŒƒå›´ç»†åŒ–

```sql
business_scope_licensed TEXT     -- è®¸å¯ç»è¥é¡¹ç›®
business_scope_general TEXT      -- ä¸€èˆ¬ç»è¥é¡¹ç›®
```

#### ä»ä¸šå’Œèµ„é‡‘

```sql
employee_count INTEGER DEFAULT 1 -- ä»ä¸šäººæ•°
registered_capital TEXT DEFAULT '0.01'  -- æ³¨å†Œèµ„é‡‘ï¼ˆä¸‡å…ƒï¼‰
```

#### ç”³è¯·ä¹¦ä¿¡æ¯

```sql
application_generated BOOLEAN DEFAULT 0  -- æ˜¯å¦å·²ç”Ÿæˆç”³è¯·ä¹¦
application_path TEXT                   -- ç”³è¯·ä¹¦æ–‡ä»¶è·¯å¾„
application_pdf_path TEXT               -- ç”³è¯·ä¹¦PDFè·¯å¾„
application_generated_at TIMESTAMP      -- ç”Ÿæˆæ—¶é—´
```

#### æ‰“å°å’Œç­¾å­—è®°å½•

```sql
printed BOOLEAN DEFAULT 0               -- æ˜¯å¦å·²æ‰“å°
printed_at TIMESTAMP                    -- æ‰“å°æ—¶é—´
print_count INTEGER DEFAULT 0           -- æ‰“å°æ¬¡æ•°
signed BOOLEAN DEFAULT 0                -- æ˜¯å¦å·²ç­¾å­—ç›–ç« 
signed_at TIMESTAMP                     -- ç­¾å­—æ—¶é—´
```

#### å†…ç½‘å¯¹æ¥

```sql
intranet_synced BOOLEAN DEFAULT 0       -- æ˜¯å¦å·²åŒæ­¥åˆ°å†…ç½‘
intranet_id TEXT                        -- å†…ç½‘ç³»ç»ŸID
intranet_synced_at TIMESTAMP            -- åŒæ­¥æ—¶é—´
intranet_sync_status TEXT               -- åŒæ­¥çŠ¶æ€
```

#### è¡Œä¸šåˆ†ç±»

```sql
industry_category TEXT                  -- è¡Œä¸šåˆ†ç±»ä»£ç 
industry_subcategory TEXT               -- è¡Œä¸šå­åˆ†ç±»
```

### æ•°æ®åº“æ–‡ä»¶

- **å®šä¹‰**: [`src/database_schema_v5.py`](src/database_schema_v5.py)
- **ç®¡ç†**: [`src/database_manager.py`](src/database_manager.py) (ä¿æŒå…¼å®¹)

---

## æ–°å¢æ¨¡å—

### 1. åç§°å·¥å…· (`src/name_tools.py`)

**åŠŸèƒ½**:
- æœ¬åœ°åç§°æ ¼å¼éªŒè¯
- æ™ºèƒ½åç§°ç”Ÿæˆ
- åç§°åˆè§„æ€§æ£€æŸ¥
- æ‰¹é‡åç§°å»ºè®®

**ä¸»è¦ç±»**:
- `NameTools`: åç§°å·¥å…·ä¸»ç±»
- `NameSuggestion`: åç§°å»ºè®®æ•°æ®ç±»
- `ValidationResult`: éªŒè¯ç»“æœæ•°æ®ç±»

**ä½¿ç”¨åœºæ™¯**:
- ç»è¥è€…æ‹Ÿå®šåç§°æ—¶
- éœ€è¦åç§°å»ºè®®æ—¶
- æ‰¹é‡æŸ¥é‡æ—¶

---

### 2. ç”³è¯·ä¹¦æ‰“å°å·¥å…· (`src/application_printer.py`)

**åŠŸèƒ½**:
- ç”ŸæˆWordç”³è¯·ä¹¦
- è½¬æ¢ä¸ºPDFï¼ˆå¯é€‰ï¼‰
- æ‰“å°ç®¡ç†
- æ‰“å°è®°å½•

**ä¸»è¦ç±»**:
- `ApplicationPrinter`: æ‰“å°å·¥å…·ä¸»ç±»
- `PrintJob`: æ‰“å°ä»»åŠ¡æ•°æ®ç±»
- `GenerationResult`: ç”Ÿæˆç»“æœæ•°æ®ç±»

**ä½¿ç”¨åœºæ™¯**:
- æ•°æ®å‡†å¤‡å°±ç»ªå
- ç”Ÿæˆç”³è¯·ä¹¦æ—¶
- æ‰“å°ç”³è¯·ä¹¦æ—¶
- è¿½è¸ªæ‰“å°çŠ¶æ€

---

### 3. å†…ç½‘å¯¹æ¥é€‚é…å™¨ (`src/intranet_adapter.py`)

**åŠŸèƒ½**:
- æ•°æ®åŒæ­¥åˆ°å†…ç½‘
- åŒæ­¥çŠ¶æ€ç®¡ç†
- é”™è¯¯å¤„ç†å’Œé‡è¯•
- å†…ç½‘é¡µé¢è‡ªåŠ¨åŒ–æ¥å£ï¼ˆé¢„ç•™ï¼‰

**ä¸»è¦ç±»**:
- `IntranetAdapter`: å†…ç½‘å¯¹æ¥é€‚é…å™¨
- `SyncResult`: åŒæ­¥ç»“æœæ•°æ®ç±»
- `IntranetConfig`: å†…ç½‘é…ç½®æ•°æ®ç±»

**é¢„ç•™æ¥å£**:
- `prepare_intranet_automation()`: å‡†å¤‡å†…ç½‘é¡µé¢è‡ªåŠ¨åŒ–
- `auto_fill_intranet_form()`: è‡ªåŠ¨å¡«å†™å†…ç½‘è¡¨å•
- `upload_materials_to_intranet()`: ä¸Šä¼ ææ–™åˆ°å†…ç½‘

**ä½¿ç”¨åœºæ™¯**:
- **å½“å‰**: æ•°æ®åŒæ­¥ï¼ˆæ¨¡æ‹Ÿï¼‰
- **æœªæ¥**: å†…ç½‘é¡µé¢è‡ªåŠ¨åŒ–

---

## å†…ç½‘å¯¹æ¥å‡†å¤‡

### æ•°æ®åŒæ­¥æ¥å£

#### åŒæ­¥æµç¨‹

```python
# 1. åˆ›å»ºé€‚é…å™¨
adapter = IntranetAdapter(config)

# 2. åŒæ­¥å•ä¸ªç»è¥æˆ·
result = adapter.sync_operator(operator_data)

# 3. æ£€æŸ¥ç»“æœ
if result.success:
    print(f"åŒæ­¥æˆåŠŸï¼Œå†…ç½‘ID: {result.intranet_id}")
else:
    print(f"åŒæ­¥å¤±è´¥: {result.message}")
```

#### æ•°æ®æ ¼å¼è½¬æ¢

ç³»ç»Ÿä¼šè‡ªåŠ¨å°†æœ¬åœ°æ•°æ®æ ¼å¼è½¬æ¢ä¸ºå†…ç½‘æ ¼å¼ï¼š

```python
# æœ¬åœ°æ ¼å¼
{
    "operator_name": "å¼ ä¸‰",
    "id_card": "450...",
    "business_name": "ç‰æ—å¸‚å…´ä¸šå¿å¼ ä¸‰ä¾¿åˆ©åº—ï¼ˆä¸ªä½“å·¥å•†æˆ·ï¼‰"
}

# è½¬æ¢ä¸ºå†…ç½‘æ ¼å¼
{
    "operatorName": "å¼ ä¸‰",
    "idCard": "450...",
    "businessName": "ç‰æ—å¸‚å…´ä¸šå¿å¼ ä¸‰ä¾¿åˆ©åº—ï¼ˆä¸ªä½“å·¥å•†æˆ·ï¼‰"
}
```

### å†…ç½‘é¡µé¢è‡ªåŠ¨åŒ–æ¥å£ï¼ˆé¢„ç•™ï¼‰

å½“éœ€è¦å¯¹æ¥å†…ç½‘æ—¶ï¼Œå¯ä»¥å®ç°ä»¥ä¸‹æ¥å£ï¼š

```python
# 1. å‡†å¤‡è‡ªåŠ¨åŒ–
browser, page = adapter.prepare_intranet_automation()

# 2. è‡ªåŠ¨å¡«å†™è¡¨å•
adapter.auto_fill_intranet_form(operator_data, browser, page)

# 3. ä¸Šä¼ ææ–™
adapter.upload_materials_to_intranet(material_paths, browser, page)
```

**æ³¨æ„**: è¿™äº›æ¥å£å½“å‰æ˜¯é¢„ç•™çš„ï¼Œéœ€è¦åœ¨å†…ç½‘å¯¹æ¥æ—¶å®ç°ã€‚

---

## ä¸‹ä¸€æ­¥å·¥ä½œ

### ç«‹å³å¯åš

1. âœ… **æ›´æ–°æ•°æ®åº“**: æ‰§è¡Œè¿ç§»è„šæœ¬ï¼Œæ·»åŠ æ–°å­—æ®µ
2. âœ… **æµ‹è¯•åç§°å·¥å…·**: éªŒè¯åç§°ç”Ÿæˆå’ŒéªŒè¯åŠŸèƒ½
3. âœ… **æµ‹è¯•æ‰“å°å·¥å…·**: ç”Ÿæˆå¹¶æ‰“å°ç”³è¯·ä¹¦
4. â³ **æ›´æ–°Flaskåº”ç”¨**: ç§»é™¤ç½‘é¡µè‡ªåŠ¨åŒ–ç›¸å…³è·¯ç”±

### åç»­å·¥ä½œ

1. â³ **å®Œå–„Webç•Œé¢**:
   - æ·»åŠ åç§°å·¥å…·é¡µé¢
   - æ·»åŠ æ‰“å°ç®¡ç†é¡µé¢
   - ä¼˜åŒ–å·¥ä½œæµç•Œé¢

2. â³ **å®ç°PDFè½¬æ¢**:
   - é…ç½® docx2pdf
   - æˆ–ä½¿ç”¨ LibreOffice è½¬æ¢

3. â³ **å†…ç½‘å¯¹æ¥**:
   - æ”¶é›†å†…ç½‘ç³»ç»ŸAPIæ–‡æ¡£
   - å®ç°æ•°æ®åŒæ­¥æ¥å£
   - å®ç°å†…ç½‘é¡µé¢è‡ªåŠ¨åŒ–

### æ–‡ä»¶æ¸…ç†

éœ€è¦å½’æ¡£çš„ç½‘é¡µè‡ªåŠ¨åŒ–æ–‡ä»¶ï¼š

```bash
# åˆ›å»ºå½’æ¡£ç›®å½•
mkdir -p archive/web_automation_v4.0

# ç§»åŠ¨æ–‡ä»¶
mv src/session_manager.py archive/web_automation_v4.0/
mv src/intelligent_form_filler.py archive/web_automation_v4.0/
mv src/enhanced_form_filler.py archive/web_automation_v4.0/
mv src/portal_automation.py archive/web_automation_v4.0/
mv src/portal_automation_persistent.py archive/web_automation_v4.0/
```

---

## æ€»ç»“

### æ ¸å¿ƒå˜æ›´

| å˜æ›´é¡¹ | è¯´æ˜ |
|--------|------|
| **å·¥ä½œæµèŒƒå›´** | Phase 1-4 ä¿ç•™ï¼ŒPhase 5-7 ç§»é™¤ |
| **æ•°æ®æº** | ç®€åŒ–ä¸º OCR + Webè¡¨å• |
| **æ–°å¢åŠŸèƒ½** | åç§°å·¥å…·ã€æ‰“å°ç®¡ç†ã€å†…ç½‘å¯¹æ¥ |
| **æ•°æ®åº“** | æ–°å¢20+å­—æ®µï¼Œä¸ºå†…ç½‘å‡†å¤‡ |

### æŠ€æœ¯æ ˆ

- âœ… **åç«¯**: Flask + SQLite
- âœ… **OCR**: ç™¾åº¦OCR / PaddleOCR
- âœ… **æ–‡æ¡£ç”Ÿæˆ**: python-docx (Jinja2)
- âœ… **æ‰“å°**: ç³»ç»Ÿæ‰“å°æ¥å£
- â³ **å†…ç½‘å¯¹æ¥**: é¢„ç•™æ¥å£ï¼ˆå¾…å®ç°ï¼‰

### æ–‡ä»¶æ¸…å•

**æ–°å¢æ–‡ä»¶**:
- [`src/database_schema_v5.py`](src/database_schema_v5.py) - v5.0æ•°æ®åº“ç»“æ„
- [`src/name_tools.py`](src/name_tools.py) - åç§°å·¥å…·
- [`src/application_printer.py`](src/application_printer.py) - æ‰“å°å·¥å…·
- [`src/intranet_adapter.py`](src/intranet_adapter.py) - å†…ç½‘å¯¹æ¥é€‚é…å™¨

**ä¿ç•™æ–‡ä»¶**:
- [`src/baidu_ocr_engine.py`](src/baidu_ocr_engine.py) - OCRå¼•æ“
- [`src/data_extractor.py`](src/data_extractor.py) - æ•°æ®æå–
- [`src/database_manager.py`](src/database_manager.py) - æ•°æ®åº“ç®¡ç†
- [`jinja2_filler.py`](jinja2_filler.py) - Jinja2å¡«å……å™¨

**å¾…å½’æ¡£æ–‡ä»¶**:
- [`src/session_manager.py`](src/session_manager.py) - ä¼šè¯ç®¡ç†å™¨
- [`src/intelligent_form_filler.py`](src/intelligent_form_filler.py) - æ™ºèƒ½å¡«å†™å™¨
- [`src/enhanced_form_filler.py`](src/enhanced_form_filler.py) - å¢å¼ºå¡«å†™å™¨
- [`src/portal_automation.py`](src/portal_automation.py) - é—¨æˆ·è‡ªåŠ¨åŒ–

---

**æ–‡æ¡£ç”Ÿæˆ**: Claude Code (GLM-4.7)
**ç”Ÿæˆæ—¶é—´**: 2026-01-15
**é¡¹ç›®ç‰ˆæœ¬**: v5.0
**çŠ¶æ€**: âœ… è®¾è®¡å®Œæˆï¼Œç­‰å¾…å®æ–½
