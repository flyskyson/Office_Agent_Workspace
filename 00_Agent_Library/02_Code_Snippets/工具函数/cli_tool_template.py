"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘                    å‘½ä»¤è¡Œå·¥å…·é€šç”¨æ¨¡æ¿ - "å¡«è‰²æœ¬"ç‰ˆ                            â•‘
â•‘                                                                              â•‘
â•‘  åƒå¡«è‰²æœ¬ä¸€æ ·ç®€å•ï¼šè¯¥æœ‰çš„è½®å»“éƒ½åœ¨ï¼Œä½ åªéœ€è¦åœ¨æ ‡è®°å¤„å¡«å……å†…å®¹                    â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– å¿«é€ŸæŒ‡å—
===========

ç¬¬ 1 æ­¥: å¤åˆ¶æ­¤æ–‡ä»¶
   å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ç›®å½•ï¼Œé‡å‘½åä¸ºä½ çš„å·¥å…·åï¼ˆå¦‚ my_tool.pyï¼‰

ç¬¬ 2 æ­¥: æœç´¢ TODO
   æ–‡ä»¶ä¸­æ‰€æœ‰éœ€è¦ä¿®æ”¹çš„åœ°æ–¹éƒ½æ ‡è®°ä¸º "TODO_x"

ç¬¬ 3 æ­¥: å¡«å……å†…å®¹
   æŒ‰ç…§ TODO æ ‡è®°çš„é¡ºåºï¼Œé€ä¸ªå¡«å……ä½ çš„å†…å®¹

ç¬¬ 4 æ­¥: åˆ é™¤ TODO
   å®Œæˆååˆ é™¤æ‰€æœ‰ TODO æ ‡è®°

ç¬¬ 5 æ­¥: æµ‹è¯•è¿è¡Œ
   python your_tool.py -h

ğŸ“‹ TODO æ ‡è®°æ¸…å•
================

TODO_1  : ä¿®æ”¹å·¥å…·åç§°å’Œæè¿°
TODO_2  : ä¿®æ”¹ä½¿ç”¨ç¤ºä¾‹
TODO_3  : æ·»åŠ /ä¿®æ”¹å¿…éœ€å‚æ•°
TODO_4  : æ·»åŠ /ä¿®æ”¹å¯é€‰å‚æ•°
TODO_5  : æ·»åŠ /ä¿®æ”¹é€‰æ‹©é¡¹å‚æ•°
TODO_6  : æ·»åŠ /ä¿®æ”¹å¸ƒå°”å¼€å…³å‚æ•°
TODO_7  : æ·»åŠ /ä¿®æ”¹æ•°å€¼å‚æ•°
TODO_8  : å®ç°å‚æ•°éªŒè¯é€»è¾‘
TODO_9  : å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
TODO_10 : æ·»åŠ é”™è¯¯å¤„ç†

ğŸ’¡ å‚æ•°å®šåˆ¶é€ŸæŸ¥
===============

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç±»å‹        â”‚ ç¤ºä¾‹ä»£ç                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¿…éœ€å‚æ•°    â”‚ parser.add_argument('-i', required=True, help='è¾“å…¥è·¯å¾„')   â”‚
â”‚ å¯é€‰å‚æ•°    â”‚ parser.add_argument('-o', default='out.txt', help='è¾“å‡º')   â”‚
â”‚ é€‰æ‹©é¡¹      â”‚ parser.add_argument('-f', choices=['json','csv'])           â”‚
â”‚ å¸ƒå°”å¼€å…³    â”‚ parser.add_argument('-v', action='store_true')              â”‚
â”‚ æ•°å€¼å‚æ•°    â”‚ parser.add_argument('-n', type=int, default=10)             â”‚
â”‚ å¤šå€¼å‚æ•°    â”‚ parser.add_argument('--files', nargs='+')                   â”‚
â”‚ äº’æ–¥å‚æ•°    â”‚ group = parser.add_mutually_exclusive_group()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½œè€…: Your Name
ç‰ˆæœ¬: 1.0
è®¸å¯: MIT
"""

import argparse
import sys
import os
from typing import Optional


# ==============================================================================
# ç¬¬ä¸€éƒ¨åˆ†ï¼šå‚æ•°è§£æï¼ˆå®šä¹‰å‘½ä»¤è¡Œæ¥å£ï¼‰
# ==============================================================================

def parse_arguments() -> argparse.Namespace:
    """
    è§£æå‘½ä»¤è¡Œå‚æ•°

    è¿™æ˜¯ç”¨æˆ·ä¸ä½ å·¥å…·äº¤äº’çš„ç¬¬ä¸€é“é—¨ã€‚æ‰€æœ‰æ”¯æŒçš„å‚æ•°éƒ½åœ¨è¿™é‡Œå®šä¹‰ã€‚

    è¿”å›:
        argparse.Namespace: åŒ…å«æ‰€æœ‰å‚æ•°çš„å¯¹è±¡
    """

    parser = argparse.ArgumentParser(
        # TODO_1[ä¿®æ”¹]: å¡«å†™ä½ çš„å·¥å…·æè¿°
        description='TODO_1: åœ¨è¿™é‡Œå¡«å†™ä½ çš„å·¥å…·åç§°å’Œç®€è¦åŠŸèƒ½æè¿°ï¼ˆä¸€å¥è¯ï¼‰',

        # ä¿ç•™æ ¼å¼åŒ–çš„å¸®åŠ©ä¿¡æ¯
        formatter_class=argparse.RawDescriptionHelpFormatter,

        # TODO_2[ä¿®æ”¹]: åœ¨ epilog ä¸­æ·»åŠ è¯¦ç»†çš„ä½¿ç”¨ç¤ºä¾‹
        epilog='''
ä½¿ç”¨ç¤ºä¾‹:
  %(prog)s -i input.txt                    # åŸºæœ¬ç”¨æ³•
  %(prog)s -i data.csv -o result.txt -f json  # å®Œæ•´å‚æ•°

TODO_2: åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šé’ˆå¯¹ä½ å·¥å…·çš„ä½¿ç”¨ç¤ºä¾‹
        '''
    )

    # ========================================================================
    # å‚æ•°å®šä¹‰åŒºåŸŸ - æ ¹æ®ä½ çš„éœ€æ±‚ä¿ç•™æˆ–ä¿®æ”¹ä¸‹é¢çš„ç¤ºä¾‹
    # ========================================================================

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # å¿…éœ€å‚æ•°ç¤ºä¾‹ï¼ˆç”¨æˆ·å¿…é¡»æä¾›ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # TODO_3[ä¿®æ”¹]: æ ¹æ®éœ€è¦ä¿®æ”¹ã€åˆ é™¤æˆ–æ·»åŠ å¿…éœ€å‚æ•°

    parser.add_argument(
        '-i', '--input',           # çŸ­é€‰é¡¹å’Œé•¿é€‰é¡¹
        type=str,                  # å‚æ•°ç±»å‹
        required=True,             # å¿…éœ€å‚æ•°
        metavar='PATH',            # å¸®åŠ©ä¿¡æ¯ä¸­çš„å ä½ç¬¦
        help='è¾“å…¥æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆå¿…éœ€ï¼‰'
    )

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # å¯é€‰å‚æ•°ç¤ºä¾‹ï¼ˆæœ‰é»˜è®¤å€¼ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # TODO_4[ä¿®æ”¹]: æ ¹æ®éœ€è¦ä¿®æ”¹ã€åˆ é™¤æˆ–æ·»åŠ å¯é€‰å‚æ•°

    parser.add_argument(
        '-o', '--output',
        type=str,
        default='output.txt',      # TODO_4: ä¿®æ”¹é»˜è®¤å€¼
        metavar='FILE',
        help='è¾“å‡ºæ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤: output.txtï¼‰'
    )

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # é€‰æ‹©é¡¹å‚æ•°ç¤ºä¾‹ï¼ˆåªèƒ½ä»åˆ—è¡¨ä¸­é€‰æ‹©ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # TODO_5[ä¿®æ”¹]: æ ¹æ®éœ€è¦ä¿®æ”¹ã€åˆ é™¤æˆ–æ·»åŠ é€‰æ‹©é¡¹å‚æ•°

    parser.add_argument(
        '-f', '--format',
        type=str,
        choices=['json', 'csv', 'txt'],  # TODO_5: ä¿®æ”¹å¯é€‰å€¼
        default='json',                  # TODO_5: ä¿®æ”¹é»˜è®¤å€¼
        metavar='FORMAT',
        help='è¾“å‡ºæ ¼å¼: json/csv/txtï¼ˆé»˜è®¤: jsonï¼‰'
    )

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # å¸ƒå°”å¼€å…³ç¤ºä¾‹ï¼ˆå¯ç”¨/ç¦ç”¨åŠŸèƒ½ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # TODO_6[ä¿®æ”¹]: æ ¹æ®éœ€è¦ä¿®æ”¹ã€åˆ é™¤æˆ–æ·»åŠ å¼€å…³å‚æ•°

    parser.add_argument(
        '-v', '--verbose',
        action='store_true',        # å­˜åœ¨åˆ™ä¸º Trueï¼Œå¦åˆ™ä¸º False
        help='å¯ç”¨è¯¦ç»†è¾“å‡ºæ¨¡å¼'
    )

    parser.add_argument(
        '--debug',
        action='store_true',
        help='å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼ˆæ˜¾ç¤ºé”™è¯¯å †æ ˆï¼‰'
    )

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # æ•°å€¼å‚æ•°ç¤ºä¾‹
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # TODO_7[ä¿®æ”¹]: æ ¹æ®éœ€è¦ä¿®æ”¹ã€åˆ é™¤æˆ–æ·»åŠ æ•°å€¼å‚æ•°

    parser.add_argument(
        '-n', '--number',
        type=int,
        default=10,                 # TODO_7: ä¿®æ”¹é»˜è®¤å€¼
        metavar='NUM',
        help='å¤„ç†æ•°é‡ï¼ˆé»˜è®¤: 10ï¼‰'
    )

    parser.add_argument(
        '--threshold',
        type=float,
        default=0.5,
        metavar='VALUE',
        help='é˜ˆå€¼è®¾ç½®ï¼ˆé»˜è®¤: 0.5ï¼‰'
    )

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # å¤šå€¼å‚æ•°ç¤ºä¾‹ï¼ˆæ¥å—å¤šä¸ªå€¼ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    parser.add_argument(
        '--files',
        nargs='+',                 # æ¥å— 1 ä¸ªæˆ–å¤šä¸ªå€¼
        metavar='FILE',
        help='æ–‡ä»¶åˆ—è¡¨ï¼ˆå¯æŒ‡å®šå¤šä¸ªï¼‰'
    )

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # äº’æ–¥å‚æ•°ç¤ºä¾‹ï¼ˆåªèƒ½é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    mode_group = parser.add_mutually_exclusive_group()
    mode_group.add_argument('--fast', action='store_true', help='å¿«é€Ÿæ¨¡å¼')
    mode_group.add_argument('--slow', action='store_true', help='æ…¢é€Ÿæ¨¡å¼')

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # æ·»åŠ ä½ è‡ªå·±çš„å‚æ•°
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    # TODO[æ·»åŠ ]: åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šä½ éœ€è¦çš„å‚æ•°
    # å‚è€ƒä¸Šé¢çš„ç¤ºä¾‹ï¼Œæ ¹æ®éœ€è¦å¤åˆ¶ä¿®æ”¹

    # parser.add_argument(
    #     '--your-option',
    #     type=str,
    #     default='default_value',
    #     help='ä½ çš„å‚æ•°è¯´æ˜'
    # )

    return parser.parse_args()


# ==============================================================================
# ç¬¬äºŒéƒ¨åˆ†ï¼šå‚æ•°éªŒè¯ï¼ˆç¡®ä¿å‚æ•°æœ‰æ•ˆï¼‰
# ==============================================================================

def validate_args(args: argparse.Namespace) -> bool:
    """
    éªŒè¯å‘½ä»¤è¡Œå‚æ•°çš„æœ‰æ•ˆæ€§

    Args:
        args: è§£æåçš„å‘½ä»¤è¡Œå‚æ•°

    Returns:
        bool: éªŒè¯é€šè¿‡è¿”å› Trueï¼Œå¤±è´¥è¿”å› False

    TODO_8: åœ¨è¿™é‡Œæ·»åŠ ä½ çš„å‚æ•°éªŒè¯é€»è¾‘
    """

    # æ£€æŸ¥è¾“å…¥è·¯å¾„æ˜¯å¦å­˜åœ¨
    if hasattr(args, 'input') and args.input:
        if not os.path.exists(args.input):
            print(f"âŒ é”™è¯¯: è¾“å…¥è·¯å¾„ä¸å­˜åœ¨: {args.input}")
            return False

    # æ£€æŸ¥æ•°å€¼å‚æ•°èŒƒå›´
    if hasattr(args, 'number') and args.number < 0:
        print(f"âŒ é”™è¯¯: æ•°é‡å¿…é¡»å¤§äºç­‰äº 0")
        return False

    if hasattr(args, 'threshold') and not (0.0 <= args.threshold <= 1.0):
        print(f"âŒ é”™è¯¯: é˜ˆå€¼å¿…é¡»åœ¨ 0.0-1.0 ä¹‹é—´")
        return False

    # TODO_8[æ·»åŠ ]: åœ¨è¿™é‡Œæ·»åŠ ä½ è‡ªå·±çš„éªŒè¯é€»è¾‘
    # ä¾‹å¦‚ï¼š
    # - æ£€æŸ¥æ–‡ä»¶æ ¼å¼
    # - éªŒè¯å‚æ•°ä¾èµ–å…³ç³»
    # - æ£€æŸ¥é…ç½®æ–‡ä»¶
    # - éªŒè¯ç½‘ç»œè¿æ¥

    return True


# ==============================================================================
# ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ ¸å¿ƒé€»è¾‘ï¼ˆå®ç°ä½ çš„åŠŸèƒ½ï¼‰
# ==============================================================================

def process_data(args: argparse.Namespace) -> int:
    """
    æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¤„ç†

    è¿™æ˜¯ä½ çš„å·¥å…·çš„ä¸»è¦åŠŸèƒ½å®ç°åŒºåŸŸã€‚

    Args:
        args: å·²éªŒè¯çš„å‘½ä»¤è¡Œå‚æ•°

    Returns:
        int: é€€å‡ºç ï¼ˆ0=æˆåŠŸï¼Œ1=å¤±è´¥ï¼‰

    TODO_9: åœ¨è¿™é‡Œå®ç°ä½ çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
    """

    # æ˜¾ç¤ºé…ç½®ä¿¡æ¯ï¼ˆå¦‚æœå¯ç”¨äº†è¯¦ç»†æ¨¡å¼ï¼‰
    if hasattr(args, 'verbose') and args.verbose:
        print("=" * 60)
        print("ğŸ“‹ é…ç½®ä¿¡æ¯:")
        print("-" * 60)
        for key, value in vars(args).items():
            print(f"  {key}: {value}")
        print("=" * 60)
        print()

    # å¼€å§‹å¤„ç†
    print("â³ æ­£åœ¨å¤„ç†...")

    try:
        # TODO_9[æ ¸å¿ƒ]: åˆ é™¤ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼Œå®ç°ä½ è‡ªå·±çš„é€»è¾‘
        # ========================================
        # ä½ çš„æ ¸å¿ƒé€»è¾‘å¼€å§‹
        # ========================================

        # ç¤ºä¾‹: è¯»å–è¾“å…¥æ–‡ä»¶
        if hasattr(args, 'verbose') and args.verbose:
            print(f"ğŸ“– è¯»å–æ–‡ä»¶: {args.input}")

        # ç¤ºä¾‹: å¤„ç†æ•°æ®
        # result = your_function(args.input, args.format, args.number)

        # ç¤ºä¾‹: æ ¹æ®ä¸åŒæ¨¡å¼å¤„ç†
        if hasattr(args, 'fast') and args.fast:
            print("  ğŸš€ ä½¿ç”¨å¿«é€Ÿæ¨¡å¼")
        elif hasattr(args, 'slow') and args.slow:
            print("  ğŸŒ ä½¿ç”¨æ…¢é€Ÿæ¨¡å¼")
        else:
            print("  âš¡ ä½¿ç”¨æ ‡å‡†æ¨¡å¼")

        # ç¤ºä¾‹: ä¿å­˜ç»“æœ
        if hasattr(args, 'output'):
            print(f"ğŸ’¾ ä¿å­˜åˆ°: {args.output}")

        # ========================================
        # ä½ çš„æ ¸å¿ƒé€»è¾‘ç»“æŸ
        # ========================================

        print("âœ… å¤„ç†å®Œæˆï¼")
        return 0

    except Exception as e:
        # TODO_10[æ·»åŠ ]: æ ¹æ®éœ€è¦æ·»åŠ ç‰¹å®šçš„é”™è¯¯å¤„ç†
        print(f"âŒ å¤„ç†å¤±è´¥: {e}")

        # å¦‚æœå¯ç”¨äº†è°ƒè¯•æ¨¡å¼ï¼Œæ˜¾ç¤ºè¯¦ç»†é”™è¯¯
        if hasattr(args, 'debug') and args.debug:
            import traceback
            print("\nè¯¦ç»†é”™è¯¯ä¿¡æ¯:")
            traceback.print_exc()

        return 1


# ==============================================================================
# ç¬¬å››éƒ¨åˆ†ï¼šä¸»å‡½æ•°ï¼ˆåè°ƒæ•´ä½“æµç¨‹ï¼‰
# ==============================================================================

def main() -> int:
    """
    ä¸»å‡½æ•° - ç¨‹åºå…¥å£

    åè°ƒæ•´ä¸ªæ‰§è¡Œæµç¨‹ï¼š
    1. è§£æå‚æ•°
    2. éªŒè¯å‚æ•°
    3. æ‰§è¡Œé€»è¾‘
    4. å¤„ç†é”™è¯¯

    Returns:
        int: é€€å‡ºç ï¼ˆ0=æˆåŠŸï¼Œé0=å¤±è´¥ï¼‰
    """

    try:
        # ç¬¬ 1 æ­¥: è§£æå‘½ä»¤è¡Œå‚æ•°
        args = parse_arguments()

        # ç¬¬ 2 æ­¥: éªŒè¯å‚æ•°
        if not validate_args(args):
            return 1

        # ç¬¬ 3 æ­¥: æ‰§è¡Œæ ¸å¿ƒé€»è¾‘
        return process_data(args)

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # å¼‚å¸¸å¤„ç†
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    except KeyboardInterrupt:
        print("\n\nâš ï¸  æ“ä½œè¢«ç”¨æˆ·ä¸­æ–­")
        return 1

    except FileNotFoundError as e:
        print(f"\nâŒ æ–‡ä»¶æœªæ‰¾åˆ°: {e}")
        return 1

    except PermissionError as e:
        print(f"\nâŒ æƒé™ä¸è¶³: {e}")
        return 1

    except Exception as e:
        print(f"\nâŒ å‘ç”Ÿé”™è¯¯: {e}")
        return 1


# ==============================================================================
# ç¬¬äº”éƒ¨åˆ†ï¼šç¨‹åºå…¥å£
# ==============================================================================

if __name__ == "__main__":
    """
    ç¨‹åºå…¥å£ç‚¹

    ç›´æ¥è¿è¡Œæ­¤è„šæœ¬æ—¶æ‰§è¡Œã€‚
    """
    sys.exit(main())


# ==============================================================================
# é™„å½•ï¼šå‚è€ƒæ‰‹å†Œ
# ==============================================================================

"""
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å‚æ•°å®šåˆ¶å‚è€ƒæ‰‹å†Œ                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. åŸºæœ¬å‚æ•°ç±»å‹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# å¿…éœ€å‚æ•°
parser.add_argument('--input', required=True, help='è¾“å…¥æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰')

# å¯é€‰å‚æ•°ï¼ˆå¸¦é»˜è®¤å€¼ï¼‰
parser.add_argument('--output', default='result.txt', help='è¾“å‡ºæ–‡ä»¶')

# é€‰æ‹©é¡¹å‚æ•°
parser.add_argument('--format', choices=['json', 'csv', 'txt'])

# å¸ƒå°”å¼€å…³
parser.add_argument('-v', '--verbose', action='store_true')

# æ•°å€¼å‚æ•°
parser.add_argument('-n', '--number', type=int, default=10)

# æµ®ç‚¹æ•°å‚æ•°
parser.add_argument('-t', '--threshold', type=float, default=0.5)

2. é«˜çº§å‚æ•°ç±»å‹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# å¤šå€¼å‚æ•°ï¼ˆ1ä¸ªæˆ–å¤šä¸ªï¼‰
parser.add_argument('--files', nargs='+')

# å¤šå€¼å‚æ•°ï¼ˆ0ä¸ªæˆ–å¤šä¸ªï¼‰
parser.add_argument('--tags', nargs='*')

# äº’æ–¥å‚æ•°ï¼ˆåªèƒ½é€‰ä¸€ä¸ªï¼‰
group = parser.add_mutually_exclusive_group()
group.add_argument('--fast')
group.add_argument('--slow')

# è®¡æ•°å‚æ•°ï¼ˆ-v, -vv, -vvvï¼‰
parser.add_argument('-v', '--verbose', action='count', default=0)

3. å¸¸ç”¨ action å€¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

action='store'        # ä¿å­˜å‚æ•°å€¼ï¼ˆé»˜è®¤ï¼‰
action='store_true'   # å­˜å‚¨ä¸º True
action='store_false'  # å­˜å‚¨ä¸º False
action='append'       # è¿½åŠ åˆ°åˆ—è¡¨ï¼ˆå¯å¤šæ¬¡ä½¿ç”¨ï¼‰
action='count'        # ç»Ÿè®¡å‡ºç°æ¬¡æ•°

4. å…¶ä»–æœ‰ç”¨å‚æ•°
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

dest='attr_name'      # æŒ‡å®šå­˜å‚¨å±æ€§å
metavar='PLACEHOLDER' # å¸®åŠ©ä¿¡æ¯ä¸­çš„å ä½ç¬¦
type=int             # ç±»å‹è½¬æ¢
default='value'      # é»˜è®¤å€¼
required=True        # è®¾ä¸ºå¿…éœ€å‚æ•°

5. å®Œæ•´ç¤ºä¾‹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# å¤æ‚å‚æ•°ç¤ºä¾‹
parser.add_argument(
    '-c', '--config',
    type=str,
    default='config.json',
    metavar='FILE',
    dest='config_file',
    required=False,
    help='é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤: config.jsonï¼‰'
)

6. æœ€ä½³å®è·µ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ åŒæ—¶æä¾›çŸ­é€‰é¡¹å’Œé•¿é€‰é¡¹: -v, --verbose
âœ“ ä½¿ç”¨ metavar è®©å¸®åŠ©ä¿¡æ¯æ›´æ¸…æ™°
âœ“ ä¸ºæ‰€æœ‰å‚æ•°æ·»åŠ  help è¯´æ˜
âœ“ æä¾›åˆç†çš„é»˜è®¤å€¼
âœ“ ä½¿ç”¨ choices é™åˆ¶å¯é€‰å€¼
âœ“ åœ¨ epilog ä¸­æ·»åŠ ä½¿ç”¨ç¤ºä¾‹

7. å‚æ•°éªŒè¯å»ºè®®
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨
âœ“ éªŒè¯æ•°å€¼èŒƒå›´
âœ“ æ£€æŸ¥æ–‡ä»¶æƒé™
âœ“ éªŒè¯å‚æ•°ä¾èµ–å…³ç³»
âœ“ æä¾›å‹å¥½çš„é”™è¯¯æç¤º

8. é”™è¯¯å¤„ç†å»ºè®®
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ æ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹
âœ“ æä¾›å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
âœ“ åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æ˜¾ç¤ºå®Œæ•´å †æ ˆ
âœ“ ä½¿ç”¨æ­£ç¡®çš„é€€å‡ºç 
âœ“ è®°å½•é”™è¯¯æ—¥å¿—
"""


# ==============================================================================
# å¼€å‘æ£€æŸ¥æ¸…å•
# ==============================================================================

"""
âœ… å¼€å‘æ£€æŸ¥æ¸…å•

å‚æ•°å®šä¹‰
  â–¡ TODO_1: ä¿®æ”¹å·¥å…·åç§°å’Œæè¿°
  â–¡ TODO_2: ä¿®æ”¹ä½¿ç”¨ç¤ºä¾‹
  â–¡ TODO_3: å®šä¹‰å¿…éœ€å‚æ•°
  â–¡ TODO_4: å®šä¹‰å¯é€‰å‚æ•°
  â–¡ TODO_5: å®šä¹‰é€‰æ‹©é¡¹å‚æ•°
  â–¡ TODO_6: å®šä¹‰å¸ƒå°”å¼€å…³
  â–¡ TODO_7: å®šä¹‰æ•°å€¼å‚æ•°
  â–¡ æ ¹æ®éœ€è¦æ·»åŠ å…¶ä»–å‚æ•°

å‚æ•°éªŒè¯
  â–¡ TODO_8: å®ç°è·¯å¾„æ£€æŸ¥
  â–¡ TODO_8: å®ç°æ•°å€¼èŒƒå›´éªŒè¯
  â–¡ TODO_8: å®ç°è‡ªå®šä¹‰éªŒè¯é€»è¾‘

æ ¸å¿ƒé€»è¾‘
  â–¡ TODO_9: å®ç°ä¸»è¦åŠŸèƒ½
  â–¡ TODO_10: æ·»åŠ é”™è¯¯å¤„ç†
  â–¡ æ·»åŠ è¿›åº¦æ˜¾ç¤º
  â–¡ æ·»åŠ ç»“æœè¾“å‡º

æµ‹è¯•
  â–¡ æµ‹è¯• -h å‚æ•°
  â–¡ æµ‹è¯•å¿…éœ€å‚æ•°
  â–¡ æµ‹è¯•å¯é€‰å‚æ•°
  â–¡ æµ‹è¯•é”™è¯¯å¤„ç†
  â–¡ æµ‹è¯•è¾¹ç•Œæƒ…å†µ

å®Œæˆæ‰€æœ‰é¡¹ç›®åï¼Œä½ çš„ CLI å·¥å…·å°±å¯ä»¥ä½¿ç”¨äº†ï¼
"""
