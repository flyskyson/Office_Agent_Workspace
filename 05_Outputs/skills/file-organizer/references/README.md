# 证照材料智能整理工具

> 自动识别、分类、归档证照材料的Python工具

**作者**: flyskyson
**创建日期**: 2025-01-08
**状态**: MVP版本

---

## 🎯 项目简介

这是一个专为市场监管所设计的证照材料整理工具，能够：

- ✅ 自动扫描桌面和下载文件夹
- ✅ 智能识别文件类型（申请表、身份证、租赁合同、产权证明）
- ✅ 按申请人 + 日期自动分类归档
- ✅ 生成详细的整理报告

**适用场景**：办理证照许可时，整理顾客提交的电子材料

---

## 📁 归档结构

整理后的文件结构：

```
C:/工作文档/证照档案/
└── 2025-01-08/              # 按日期
    ├── 张三/                # 按申请人
    │   ├── 📄 申请表.docx
    │   ├── 📱 身份证.jpg
    │   ├── 📄 租赁合同.pdf
    │   └── 📄 产权证明.pdf
    ├── 李四/
    │   ├── 📄 申请表.docx
    │   └── 📱 身份证.jpg
    └── 王五/
        └── 📄 申请表.docx
```

---

## 🚀 快速开始

### 1. 准备工作

```bash
# 创建档案文件夹
mkdir "D:\工作文档\证照档案"
```

### 2. 配置文件

编辑 `config.json`，根据需要调整：

```json
{
  "archive_root": "D:/工作文档/证照档案",  // 改这里调整档案位置
  "source_folders": [                       // 改这里调整源文件夹
    "C:/Users/flyskyson/Desktop",
    "C:/Users/flyskyson/Downloads"
  ],
  "file_patterns": {                        // 加新材料类型？改这里
    "申请表": ["申请表", "申请", "表格"],
    "身份证": ["身份证", "id", "ID"],
    "租赁合同": ["租赁", "合同"],
    "产权证明": ["产权", "房产", "房产证"]
  }
}
```

### 3. 运行整理

```bash
cd 01_Active_Projects/file_organizer
python file_organizer.py
```

### 4. 查看报告

程序会显示详细的整理报告，包括：
- 处理了多少文件
- 归档到哪个位置
- 每个申请人的文件数
- 各类材料的统计

---

## 📖 使用示例

### 场景1：整理桌面文件

**桌面文件**：
```
Desktop/
├── 张三_申请表.docx
├── 张三_身份证.jpg
├── 李四身份证.png
└── 租赁合同.pdf
```

**运行程序**：
```bash
python file_organizer.py
```

**整理结果**：
```
C:/工作文档/证照档案/2025-01-08/
├── 张三/
│   ├── 申请表.docx
│   └── 身份证.jpg
├── 李四/
│   └── 身份证.png
└── 未知/
    └── 租赁合同.pdf  # 无法识别申请人
```

---

## 🎓 学习重点

通过这个项目，您学会了：

### 1. **os模块** - 文件和目录操作
```python
os.listdir()         # 列出文件夹内容
os.path.join()       # 拼接路径
os.path.splitext()   # 分离扩展名
os.makedirs()        # 创建文件夹
```

### 2. **shutil模块** - 文件移动
```python
shutil.move()        # 移动文件
```

### 3. **json模块** - 配置文件
```python
json.load()          # 读取配置
```

### 4. **datetime模块** - 日期处理
```python
datetime.now().strftime("%Y-%m-%d")
```

### 5. **面向对象设计**
```python
class FileOrganizer:
    def __init__(self):
        # 初始化
    def scan_folder(self):
        # 扫描文件
    def identify_file(self):
        # 识别文件
```

---

## 🔧 配置说明

### 核心配置项

| 配置项 | 说明 | 示例 |
|--------|------|------|
| `archive_root` | 档案存放位置 | `"D:/工作文档/证照档案"` |
| `source_folders` | 要整理的源文件夹 | `["Desktop", "Downloads"]` |
| `file_patterns` | 材料识别规则 | `{"身份证": ["身份证", "id"]}` |
| `allowed_extensions` | 允许的文件类型 | `[".pdf", ".jpg", ".docx"]` |
| `organize_by_date` | 是否按日期分类 | `true` |
| `organize_by_applicant` | 是否按申请人分类 | `true` |

### 如何调整配置

#### 改档案位置
```json
"archive_root": "E:/证照档案"  // 改这一行
```

#### 加新材料类型
```json
"file_patterns": {
  "健康证明": ["健康证", "体检", "健康证明"]  // 加这一段
}
```

#### 加新源文件夹
```json
"source_folders": [
  "C:/Users/flyskyson/Desktop",
  "E:/U盘材料"  // 加这一行
]
```

---

## ⚠️ 注意事项

### 安全保护
- ✅ 只处理白名单中的文件类型
- ✅ 不移动系统文件
- ✅ 不会删除文件

### 文件名格式
支持以下格式：
- ✅ `张三_身份证.jpg` (下划线分隔)
- ✅ `张三-身份证.jpg` (横杠分隔)
- ✅ `张三身份证.jpg` (无分隔符)

### 识别规则
- 文件名包含"身份证"、"id"、"ID" → 识别为身份证
- 文件名包含"申请表"、"申请"、"表格" → 识别为申请表
- 文件名包含"租赁"、"合同" → 识别为租赁合同
- 文件名包含"产权"、"房产" → 识别为产权证明

---

## 🐛 常见问题

### Q1: 找不到配置文件
```
❌ 配置文件不存在: config.json
```
**解决**: 确保 `config.json` 和 `file_organizer.py` 在同一文件夹

### Q2: 档案文件夹不存在
```
❌ 移动失败: 系统找不到指定的路径
```
**解决**: 先创建档案文件夹 `mkdir "D:\工作文档\证照档案"`

### Q3: 无法识别申请人
**原因**: 文件名不包含分隔符（如 `租赁合同.pdf`）
**结果**: 文件会被归类到"未知"文件夹
**解决**: 重命名文件，加上申请人名字（如 `张三_租赁合同.pdf`）

---

## 📝 后续改进方向

### MVP版本（当前）
- ✅ 基础文件扫描
- ✅ 按文件名识别
- ✅ 自动归档
- ✅ 简单报告

### V2版本（计划中）
- [ ] 搜索功能（快速找到某人的材料）
- [ ] 重复文件检测
- [ ] 更详细的统计报告
- [ ] 支持自定义归档规则

### V3版本（进阶）
- [ ] 图形界面
- [ ] 自动备份
- [ ] 数据库索引

---

## 📊 技术栈

- **语言**: Python 3.x
- **核心库**:
  - `os` - 文件和目录操作
  - `shutil` - 文件移动
  - `json` - 配置文件
  - `datetime` - 日期处理
  - `pathlib` - 路径操作

---

## 🎉 项目总结

通过这个项目，我学会了：

1. ✅ **文件操作**: os、shutil模块的使用
2. ✅ **配置文件**: 用JSON分离配置和代码
3. ✅ **面向对象**: 用class组织代码
4. ✅ **模块化设计**: 每个功能独立，易维护
5. ✅ **异常处理**: 用try-except保护程序

---

**更新日志**:
- 2025-01-08: 创建MVP版本

**许可证**: MIT
