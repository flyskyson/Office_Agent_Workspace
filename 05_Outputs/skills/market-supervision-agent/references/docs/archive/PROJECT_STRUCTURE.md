# å¸‚åœºç›‘ç®¡æ™ºèƒ½ä½“ - é¡¹ç›®ç»“æ„

```
market_supervision_agent/
â”œâ”€â”€ ğŸ“„ README.md                        # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ requirements.txt                 # Pythonä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ ğŸ“„ .env.example                     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ .gitignore                       # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”‚
â”œâ”€â”€ ğŸ“ src/                             # æ ¸å¿ƒæºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                  # æ¨¡å—åˆå§‹åŒ–
â”‚   â”œâ”€â”€ ğŸ“„ agent_core.py                # æ™ºèƒ½ä½“è°ƒåº¦æ ¸å¿ƒï¼ˆä»»åŠ¡ç¼–æ’ï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ browser_controller.py        # æµè§ˆå™¨æ§åˆ¶å™¨ï¼ˆPlaywrightå°è£…ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ forms/                       # è¡¨å•å¤„ç†æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“„ __init__.py
â”‚       â”œâ”€â”€ ğŸ“„ annual_report.py         # ä¼ä¸šå¹´æŠ¥è¡¨å•å¤„ç†
â”‚       â”œâ”€â”€ ğŸ“„ registration.py          # ä¼ä¸šè®¾ç«‹ç™»è®°è¡¨å•å¤„ç†
â”‚       â””â”€â”€ ğŸ“„ change.py                # ä¼ä¸šå˜æ›´ç™»è®°è¡¨å•å¤„ç†
â”‚
â”œâ”€â”€ ğŸ“ config/                          # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ urls.yaml                    # æ”¿åŠ¡ç½‘ç«™URLé…ç½®
â”‚   â””â”€â”€ ğŸ“„ selectors.yaml               # ç½‘é¡µå…ƒç´ å®šä½å™¨ï¼ˆæ ¸å¿ƒé…ç½®ï¼ï¼‰
â”‚
â”œâ”€â”€ ğŸ“ data/                            # ä¸šåŠ¡æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ README.md                    # æ•°æ®æ ¼å¼è¯´æ˜
â”‚   â”œâ”€â”€ ğŸ“„ sample_customers.json        # å®¢æˆ·æ•°æ®ç¤ºä¾‹
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ processed/                   # å·²å¤„ç†æ–‡ä»¶å­˜å‚¨
â”‚       â””â”€â”€ ğŸ“„ README.md                # å½’æ¡£è¯´æ˜
â”‚
â””â”€â”€ ğŸ“ tests/                           # æµ‹è¯•è„šæœ¬ç›®å½•
    â”œâ”€â”€ ğŸ“„ test_agent_core.py           # æ™ºèƒ½ä½“æ ¸å¿ƒæµ‹è¯•
    â””â”€â”€ ğŸ“„ test_browser_controller.py   # æµè§ˆå™¨æ§åˆ¶å™¨æµ‹è¯•
```

## æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒä»£ç  (src/)

| æ–‡ä»¶ | åŠŸèƒ½ | å…³é”®ç±»/æ–¹æ³• |
|------|------|------------|
| `agent_core.py` | ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒ | `MarketSupervisionAgent` |
| `browser_controller.py` | æµè§ˆå™¨è‡ªåŠ¨åŒ– | `BrowserController` |
| `forms/annual_report.py` | å¹´æŠ¥å¡«å†™ | `AnnualReportForm.process()` |
| `forms/registration.py` | è®¾ç«‹ç™»è®° | `RegistrationForm.process()` |
| `forms/change.py` | å˜æ›´ç™»è®° | `ChangeForm.process()` |

### é…ç½®æ–‡ä»¶ (config/)

| æ–‡ä»¶ | å†…å®¹ | é‡è¦æ€§ |
|------|------|--------|
| `urls.yaml` | æ”¿åŠ¡ç½‘ç«™URL | â­â­â­ |
| `selectors.yaml` | CSSé€‰æ‹©å™¨é…ç½® | â­â­â­â­â­ï¼ˆæœ€é‡è¦ï¼ï¼‰|

### æ•°æ®æ–‡ä»¶ (data/)

| æ–‡ä»¶/ç›®å½• | ç”¨é€” |
|----------|------|
| `sample_customers.json` | å®¢æˆ·æ•°æ®ç¤ºä¾‹æ¨¡æ¿ |
| `processed/` | å·²å¤„ç†ä¸šåŠ¡è®°å½•å­˜æ¡£ |

### æµ‹è¯•æ–‡ä»¶ (tests/)

| æ–‡ä»¶ | æµ‹è¯•å†…å®¹ |
|------|----------|
| `test_agent_core.py` | æ™ºèƒ½ä½“æ ¸å¿ƒåŠŸèƒ½ |
| `test_browser_controller.py` | æµè§ˆå™¨æ§åˆ¶åŠŸèƒ½ |

## ä½¿ç”¨æµç¨‹

```
1. é…ç½®ç¯å¢ƒ
   â””â”€> å®‰è£…ä¾èµ– (requirements.txt)
   â””â”€> é…ç½®å˜é‡ (.env.example â†’ .env)

2. é…ç½®é€‰æ‹©å™¨ï¼ˆæœ€å…³é”®ï¼ï¼‰
   â””â”€> æ£€æŸ¥ç›®æ ‡ç½‘ç«™
   â””â”€> æ›´æ–° config/selectors.yaml

3. å‡†å¤‡æ•°æ®
   â””â”€> ç¼–è¾‘ data/sample_customers.json

4. è¿è¡Œæµ‹è¯•
   â””â”€> pytest tests/

5. æ‰§è¡Œä»»åŠ¡
   â””â”€> python src/agent_core.py
```

## æŠ€æœ¯æ¶æ„

```
ç”¨æˆ·æ•°æ® (JSON)
    â†“
MarketSupervisionAgent (è°ƒåº¦)
    â†“
BrowserController (æµè§ˆå™¨)
    â†“
Forms/* (è¡¨å•å¤„ç†)
    â†“
æ”¿åŠ¡ç½‘ç«™ (è‡ªåŠ¨å¡«å†™)
    â†“
ç»“æœä¿å­˜ (processed/)
```

## æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°ä¸šåŠ¡ç±»å‹

1. åœ¨ `src/forms/` åˆ›å»ºæ–°æ¨¡å— (å¦‚ `cancellation.py`)
2. å®ç°è¡¨å•å¤„ç†ç±»
3. åœ¨ `agent_core.py` æ·»åŠ å¤„ç†æ–¹æ³•
4. æ›´æ–° `config/selectors.yaml` æ·»åŠ é€‰æ‹©å™¨
5. æ·»åŠ å¯¹åº”æµ‹è¯•

### æ”¯æŒæ–°ç½‘ç«™

1. åœ¨ `config/urls.yaml` æ·»åŠ æ–°ç½‘ç«™ URL
2. åœ¨ `config/selectors.yaml` é…ç½®é€‰æ‹©å™¨
3. å¯èƒ½éœ€è¦è°ƒæ•´è¡¨å•å¤„ç†é€»è¾‘

---

**æ›´æ–°æ—¶é—´**: 2026-01-11
**é¡¹ç›®ä½ç½®**: `01_Active_Projects/market_supervision_agent/`
