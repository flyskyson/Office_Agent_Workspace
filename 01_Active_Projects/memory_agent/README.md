# ğŸ§  å­¦ä¹ è®°å¿†åŠ©æ‰‹ - Memory Agent

> ä½ çš„ç¬¬äºŒå¤§è„‘ Â· æ™ºèƒ½çŸ¥è¯†ç®¡ç†åŠ©æ‰‹

**çŠ¶æ€**: ğŸš€ MVPç‰ˆæœ¬å·²å®Œæˆ

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

å­¦ä¹ è®°å¿†åŠ©æ‰‹æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œå¸®åŠ©ä½ ï¼š
- âœ… **å¿«é€Ÿæ‰¾åˆ°**ä¹‹å‰å†™è¿‡çš„ä»£ç å’Œç¬”è®°
- âœ… **æ™ºèƒ½å…³è”**ç›¸ä¼¼é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- âœ… **ç§‘å­¦å¤ä¹ **é‡è¦çŸ¥è¯†ï¼ˆåŸºäºé—´éš”é‡å¤ç®—æ³•ï¼‰
- âœ… **è¯­ä¹‰æœç´¢**ç†è§£ä½ çš„æŸ¥è¯¢æ„å›¾

### æ ¸å¿ƒé—®é¢˜è§£å†³

1. **æ‰¾ä¸åˆ°ä¹‹å‰å†™çš„ä»£ç ** â†’ è¯­ä¹‰æœç´¢æ‰€æœ‰Pythonæ–‡ä»¶
2. **å¿˜è®°å­¦è¿‡çš„ä¸œè¥¿** â†’ æ™ºèƒ½å¤ä¹ æé†’ç³»ç»Ÿ
3. **é‡å¤è§£å†³ç›¸åŒé—®é¢˜** â†’ ç›¸ä¼¼é—®é¢˜è‡ªåŠ¨å…³è”
4. **çŸ¥è¯†ç¢ç‰‡åŒ–** â†’ å‘é‡æ•°æ®åº“ç»Ÿä¸€ç®¡ç†

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ğŸ” è¯­ä¹‰æœç´¢

ç†è§£ä½ çš„æŸ¥è¯¢æ„å›¾ï¼Œè€Œä¸æ˜¯ç®€å•çš„å…³é”®è¯åŒ¹é…ï¼š

```bash
# æœç´¢ä»£ç 
python memory_agent.py code "å¦‚ä½•æ‰¹é‡é‡å‘½åæ–‡ä»¶ï¼Ÿ"

# æœç´¢ç¬”è®°
python memory_agent.py note "PDFå¤„ç†æŠ€å·§"

# å…¨å±€æœç´¢
python memory_agent.py search "æ–‡ä»¶æ“ä½œæœ€ä½³å®è·µ"
```

### 2. ğŸ’­ ç›¸ä¼¼é—®é¢˜å…³è”

é‡åˆ°é—®é¢˜æ—¶ï¼Œè‡ªåŠ¨æŸ¥æ‰¾å†å²ç›¸ä¼¼é—®é¢˜ï¼š

```bash
python memory_agent.py similar "ä¸ºä»€ä¹ˆæˆ‘çš„ä»£ç æŠ¥é”™ï¼Ÿ"
```

è¾“å‡ºï¼š
```
ğŸ’­ ç›¸ä¼¼çš„å†å²é—®é¢˜
========================================
1. æ–‡ä»¶æƒé™é”™è¯¯
   ğŸ“ 06_Learning_Journal/challenges_solved/file_permission.md
   ğŸ¯ ç›¸ä¼¼åº¦: 87%
   ğŸ“ é—®é¢˜æè¿°ï¼šåœ¨ä½¿ç”¨Path.rename()æ—¶é‡åˆ°PermissionError...
```

### 3. ğŸ“š å­¦ä¹ è·¯å¾„æ¨è

æ ¹æ®ä½ çš„çŸ¥è¯†åº“ï¼Œæ¨èå­¦ä¹ è·¯å¾„ï¼š

```bash
python memory_agent.py path "Pythonæ–‡ä»¶æ“ä½œ"
```

### 4. ğŸ“– æ™ºèƒ½å¤ä¹ ç³»ç»Ÿ

åŸºäº**é—´éš”é‡å¤ç®—æ³•**ï¼ˆSpaced Repetitionï¼‰çš„ç§‘å­¦å¤ä¹ ï¼š

```bash
# æŸ¥çœ‹ä»Šæ—¥å¤ä¹ 
python memory_agent.py review

# äº¤äº’å¼å¤ä¹ 
python memory_agent.py interactive
```

å¤ä¹ æµç¨‹ï¼š
```
ğŸ“„ æ–‡ä»¶é‡å‘½åæŠ€å·§
========================================
ğŸ“ code_patterns/rename_helper.py

å†…å®¹ï¼šä½¿ç”¨Path.rename()æ‰¹é‡é‡å‘½åæ–‡ä»¶...

è¯„åˆ†ä½ çš„è®°å¿†è´¨é‡:
  5 - å®Œç¾è®°å¿†
  4 - æ­£ç¡®ä½†çŠ¹è±«
  3 - å›å¿†èµ·ä½†å›°éš¾
  2 - é”™è¯¯ä½†æœ‰å°è±¡
  1 - é”™è¯¯ä¸”æ— å°è±¡
  0 - å®Œå…¨å¿˜è®°

è¯„åˆ† (0-5): 4
âœ… å¤ä¹ å®Œæˆï¼Œ3å¤©åå†æ¬¡å¤ä¹ 
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd 01_Active_Projects/memory_agent
pip install -r requirements.txt
```

**é¦–æ¬¡è¿è¡Œä¼šä¸‹è½½åµŒå…¥æ¨¡å‹**ï¼ˆçº¦500MBï¼‰ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

### 2. æ„å»ºç´¢å¼•

```bash
python memory_agent.py index
```

è¿™ä¼šæ‰«æï¼š
- `06_Learning_Journal/` - æ‰€æœ‰å­¦ä¹ ç¬”è®°
- `01_Active_Projects/` - æ‰€æœ‰é¡¹ç›®ä»£ç 

### 3. å¼€å§‹ä½¿ç”¨

**äº¤äº’æ¨¡å¼**ï¼ˆæ¨èï¼‰ï¼š
```bash
python memory_agent.py
```

**å‘½ä»¤è¡Œæ¨¡å¼**ï¼š
```bash
python memory_agent.py search "ä½ çš„æŸ¥è¯¢"
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
memory_agent/
â”œâ”€â”€ memory_agent.py          # ä¸»ç¨‹åº
â”œâ”€â”€ embedder.py              # æ–‡æœ¬åµŒå…¥æ¨¡å—
â”œâ”€â”€ vector_store.py          # å‘é‡æ•°æ®åº“ï¼ˆChromaDBï¼‰
â”œâ”€â”€ indexer.py               # ç¬”è®°ç´¢å¼•å™¨
â”œâ”€â”€ search.py                # è¯­ä¹‰æœç´¢å¼•æ“
â”œâ”€â”€ recommender.py           # æ™ºèƒ½æ¨èç³»ç»Ÿ
â”œâ”€â”€ review_scheduler.py      # å¤ä¹ è°ƒåº¦å™¨
â”œâ”€â”€ config.yaml              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt         # ä¾èµ–
â””â”€â”€ README.md                # æœ¬æ–‡æ¡£
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| å‘é‡æ•°æ®åº“ | ChromaDB | æœ¬åœ°å‘é‡å­˜å‚¨ |
| æ–‡æœ¬åµŒå…¥ | sentence-transformers | å¤šè¯­è¨€æ–‡æœ¬å‘é‡åŒ– |
| ä¸­æ–‡æ”¯æŒ | paraphrase-multilingual-mpnet-base-v2 | ä¸­æ–‡è¯­ä¹‰ç†è§£ |
| å¤ä¹ ç®—æ³• | é—´éš”é‡å¤ (SM-2) | ç§‘å­¦å¤ä¹ æé†’ |

---

## âš™ï¸ é…ç½®è¯´æ˜

ç¼–è¾‘ [config.yaml](config.yaml) è‡ªå®šä¹‰é…ç½®ï¼š

```yaml
# å‘é‡æ•°æ®åº“
vector_db:
  persist_directory: "../06_Learning_Journal/workspace_memory/chroma_db"

# æ–‡æœ¬åµŒå…¥æ¨¡å‹
embedding:
  model_name: "paraphrase-multilingual-mpnet-base-v2"
  device: "cpu"  # æœ‰GPUå¯æ”¹ä¸º"cuda"

# æœç´¢é…ç½®
search:
  top_k: 5  # è¿”å›ç»“æœæ•°
  similarity_threshold: 0.5  # ç›¸ä¼¼åº¦é˜ˆå€¼

# å¤ä¹ æé†’
review:
  intervals: [1, 3, 7, 14, 30, 90]  # å¤ä¹ é—´éš”ï¼ˆå¤©ï¼‰
  daily_limit: 5  # æ¯å¤©æœ€å¤šæé†’æ•°
```

---

## ğŸ“Š ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šå¿˜è®°ä¹‹å‰çš„ä»£ç 

**é—®é¢˜**ï¼š"æˆ‘ä¹‹å‰å†™è¿‡æ‰¹é‡é‡å‘½åæ–‡ä»¶çš„ä»£ç ï¼Œæ‰¾ä¸åˆ°äº†"

**è§£å†³**ï¼š
```bash
python memory_agent.py code "æ‰¹é‡é‡å‘½åæ–‡ä»¶"
```

ç«‹å³æ‰¾åˆ°ï¼š
```
1. rename_helper.py
   ğŸ“ 01_Active_Projects/file_organizer/rename_helper.py
   ğŸ¯ ç›¸ä¼¼åº¦: 92%
   ğŸ“ def batch_rename(pattern, replacement): ...
```

### åœºæ™¯2ï¼šé‡åˆ°æ–°é—®é¢˜

**é—®é¢˜**ï¼š"é‡åˆ° FileNotFoundError"

**è§£å†³**ï¼š
```bash
python memory_agent.py similar "æ–‡ä»¶æ‰¾ä¸åˆ°é”™è¯¯"
```

æ‰¾åˆ°å†å²è§£å†³æ–¹æ¡ˆï¼š
```
ğŸ’­ ä½ ä¹‹å‰è§£å†³è¿‡ç±»ä¼¼é—®é¢˜ï¼
1. Pathä¸å­˜åœ¨é”™è¯¯
   ğŸ¯ ç›¸ä¼¼åº¦: 85%
   ğŸ’¡ è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨Path.exists()æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨...
```

### åœºæ™¯3ï¼šå®šæœŸå¤ä¹ 

**æ¯å‘¨**è¿è¡Œä¸€æ¬¡ï¼š
```bash
python memory_agent.py interactive
```

ç³»ç»Ÿä¼šæé†’ä½ éœ€è¦å¤ä¹ çš„å†…å®¹ï¼Œå¹¶æ ¹æ®ä½ çš„è®°å¿†è´¨é‡è°ƒæ•´å¤ä¹ é¢‘ç‡ã€‚

---

## ğŸ“ è¿›é˜¶ä½¿ç”¨

### æ·»åŠ è‡ªå®šä¹‰æ–‡æ¡£

```python
from indexer import DocumentIndexer
from embedder import TextEmbedder
from vector_store import VectorStore

indexer = DocumentIndexer()

# æ‰‹åŠ¨æ·»åŠ å•ä¸ªæ–‡æ¡£
doc = {
    'content': "ä½ çš„æ–‡æ¡£å†…å®¹",
    'metadata': {
        'title': 'æ–‡æ¡£æ ‡é¢˜',
        'path': 'custom/doc.md',
        'type': 'journal'
    },
    'file_path': Path('custom/doc.md')
}

indexer.index_documents([doc])
```

### è°ƒæ•´æœç´¢å‚æ•°

```python
from search import SemanticSearch

search = SemanticSearch()

# æ›´é«˜ç²¾åº¦ï¼Œæ›´å°‘ç»“æœ
results = search.search(
    query="æŸ¥è¯¢",
    top_k=3,
    min_similarity=0.7
)
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: é¦–æ¬¡è¿è¡Œå¾ˆæ…¢ï¼Ÿ

A: é¦–æ¬¡éœ€è¦ä¸‹è½½åµŒå…¥æ¨¡å‹ï¼ˆçº¦500MBï¼‰ï¼Œä¹‹åä¼šç¼“å­˜ã€‚

### Q2: æœç´¢ç»“æœä¸ç›¸å…³ï¼Ÿ

A: å°è¯•ï¼š
- ä½¿ç”¨æ›´å…·ä½“çš„æŸ¥è¯¢
- é™ä½ `similarity_threshold`
- é‡æ–°æ„å»ºç´¢å¼•ï¼š`python memory_agent.py index`

### Q3: å¦‚ä½•é‡æ–°ç´¢å¼•ï¼Ÿ

A: è¿è¡Œï¼š
```bash
python memory_agent.py index
```

### Q4: å¦‚ä½•æ¸…ç©ºæ•°æ®åº“ï¼Ÿ

A: åˆ é™¤å‘é‡æ•°æ®åº“ç›®å½•ï¼š
```bash
rm -rf ../06_Learning_Journal/workspace_memory/chroma_db
```

---

## ğŸš§ æœªæ¥è®¡åˆ’

- [ ] Webç•Œé¢ï¼ˆFlask/FastAPIï¼‰
- [ ] æµè§ˆå™¨æ‰©å±•ï¼ˆå¿«é€Ÿä¿å­˜ç½‘é¡µï¼‰
- [ ] VSCodeæ’ä»¶ï¼ˆIDEå†…æœç´¢ï¼‰
- [ ] è‡ªåŠ¨ç´¢å¼•ç›‘æ§ï¼ˆæ–‡ä»¶å˜æ›´è‡ªåŠ¨æ›´æ–°ï¼‰
- [ ] å¤šæ¨¡æ€æ”¯æŒï¼ˆå›¾ç‰‡ã€PDFï¼‰
- [ ] çŸ¥è¯†å›¾è°±å¯è§†åŒ–

---

## ğŸ“ å¼€å‘æ—¥å¿—

### 2026-01-10
- âœ… å®ŒæˆMVPç‰ˆæœ¬
- âœ… å®ç°æ ¸å¿ƒå››å¤§åŠŸèƒ½
- âœ… æœ¬åœ°å‘é‡æ•°æ®åº“
- âœ… é—´éš”é‡å¤å¤ä¹ ç³»ç»Ÿ

---

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [ChromaDB](https://www.trychroma.com/) - å‘é‡æ•°æ®åº“
- [sentence-transformers](https://www.sbert.net/) - æ–‡æœ¬åµŒå…¥
- [SM-2 Algorithm](https://www.supermemo.com/en/blog/application-of-a-computer-to-improve-the-results-obtained-in-working-with-the-supermemo-method) - é—´éš”é‡å¤ç®—æ³•

---

**Happy Learning! ğŸ‰**

æœ‰é—®é¢˜ï¼ŸæŸ¥çœ‹ [é¡¹ç›®Wiki](../../06_Learning_Journal/) æˆ–æäº¤Issueã€‚
