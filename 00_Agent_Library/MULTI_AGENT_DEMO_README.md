# å¤šAgentç³»ç»ŸåŸå‹ - æ™ºèƒ½æ–‡æ¡£å¤„ç†å›¢é˜Ÿ

## ğŸ“– æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºç°æœ‰WorkflowEngineæ¡†æ¶çš„å¤šAgentç³»ç»Ÿæ¼”ç¤ºåŸå‹ï¼Œå±•ç¤ºäº†å¦‚ä½•é€šè¿‡å¤šä¸ªä¸“é—¨çš„Agentåä½œå®Œæˆå¤æ‚çš„æ–‡æ¡£å¤„ç†ä»»åŠ¡ã€‚

## ğŸ¤– Agentå›¢é˜Ÿæˆå‘˜

| Agent | è§’è‰² | èŒè´£ |
|-------|------|------|
| **ğŸ¯ åè°ƒè€… (Coordinator)** | é¡¹ç›®åè°ƒè€… | ä»»åŠ¡è§„åˆ’ã€èµ„æºåˆ†é…ã€è¿›åº¦è·Ÿè¸ª |
| **ğŸ” åˆ†æå¸ˆ (Analyst)** | æ–‡æ¡£åˆ†æå¸ˆ | å†…å®¹åˆ†æã€ç»“æ„è¯†åˆ«ã€å…³é”®è¯æå– |
| **âš™ï¸ å¤„ç†å™¨ (Processor)** | æ–‡æ¡£å¤„ç†å™¨ | æ–‡æœ¬æ¸…ç†ã€æ‘˜è¦ç”Ÿæˆã€æ ¼å¼ä¼˜åŒ– |
| **âœ… å®¡æŸ¥å¸ˆ (Reviewer)** | è´¨é‡å®¡æŸ¥å¸ˆ | è´¨é‡è¯„ä¼°ã€æŠ¥å‘Šç”Ÿæˆã€æ”¹è¿›å»ºè®® |

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MultiAgentSystem                        â”‚
â”‚                   (å¤šAgentç³»ç»Ÿç¼–æ’å™¨)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WorkflowGraph                            â”‚
â”‚                   (å·¥ä½œæµå›¾/çŠ¶æ€æœº)                          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Coordinatorâ”‚â”€â”€â”€â–¶â”‚ Analyst  â”‚â”€â”€â”€â–¶â”‚ Processorâ”‚â”€â”€â”€â–¶â”‚Reviewerâ”‚ â”‚
â”‚  â”‚  Agent   â”‚    â”‚  Agent   â”‚    â”‚  Agent   â”‚    â”‚ Agent â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚               â”‚               â”‚              â”‚      â”‚
â”‚       â–¼               â–¼               â–¼              â–¼      â”‚
â”‚   ä»»åŠ¡è§„åˆ’        å†…å®¹åˆ†æ        æ–‡æœ¬å¤„ç†        è´¨é‡å®¡æŸ¥   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    State      â”‚
                    â”‚  (çŠ¶æ€ä¼ é€’)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ è¿è¡Œæ¼”ç¤º

```bash
cd 00_Agent_Library
python multi_agent_demo.py
```

## ğŸ“ æ‰§è¡Œæµç¨‹

### 1. ä¸²è¡Œåä½œæ¨¡å¼

```
ç”¨æˆ·è¾“å…¥æ–‡æœ¬
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coordinator  â”‚ â† åˆ›å»ºä»»åŠ¡åˆ—è¡¨ï¼Œåˆå§‹åŒ–å·¥ä½œæµ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Analyst    â”‚ â† åˆ†ææ–‡æœ¬ï¼šè¯æ•°ã€æƒ…æ„Ÿã€å¤æ‚åº¦ã€å…³é”®è¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Processor   â”‚ â† å¤„ç†æ–‡æœ¬ï¼šæ¸…ç†ã€æ‘˜è¦ã€å¢å¼ºã€æ ¼å¼åŒ–
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Reviewer   â”‚ â† å®¡æŸ¥ç»“æœï¼šè¯„åˆ†ã€å»ºè®®ã€ç”ŸæˆæŠ¥å‘Š
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
æœ€ç»ˆæŠ¥å‘Šè¾“å‡º
```

### 2. Agenté—´çš„çŠ¶æ€ä¼ é€’

æ¯ä¸ªAgentæ‰§è¡Œåï¼ŒçŠ¶æ€(State)ä¼šæ›´æ–°å¹¶ä¼ é€’ç»™ä¸‹ä¸€ä¸ªAgentï¼š

```python
State = {
    'data': {
        'input_text': 'åŸå§‹æ–‡æœ¬',
        'tasks': [...],           # Coordinatoråˆ›å»º
        'analysis': {...},        # Analystæ·»åŠ 
        'processing': {...},      # Processoræ·»åŠ 
        'report': {...}           # Revieweræ·»åŠ 
    },
    'errors': [],
    'warnings': [],
    'metadata': {
        'phase': 'å½“å‰é˜¶æ®µ',
        'progress': 'å®Œæˆåº¦'
    }
}
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### BaseAgent (AgentåŸºç±»)

æ‰€æœ‰Agentéƒ½ç»§æ‰¿è‡ª`BaseAgent`ï¼Œæä¾›ï¼š
- ç»Ÿä¸€çš„æ—¥å¿—è®°å½•
- æ‰§è¡Œç»Ÿè®¡è¿½è¸ª
- é”™è¯¯å¤„ç†æœºåˆ¶
- çŠ¶æ€ç®¡ç†æ¥å£

### WorkflowGraph (å·¥ä½œæµå›¾)

åŸºäºLangGraphé£æ ¼çš„å›¾å¼ç¼–æ’ï¼š
- **Node (èŠ‚ç‚¹)**: å¯æ‰§è¡Œçš„Agent
- **Edge (è¾¹)**: å›ºå®šçš„è¿æ¥å…³ç³»
- **ConditionalEdge (æ¡ä»¶è¾¹)**: åŠ¨æ€è·¯ç”±å†³ç­–
- **State (çŠ¶æ€)**: æ•°æ®åœ¨Agenté—´ä¼ é€’

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

```
======================================================================
ğŸ¤– å¤šAgentæ–‡æ¡£å¤„ç†å›¢é˜Ÿå¯åŠ¨
======================================================================

[æ‰§è¡Œ] coordinator: é¡¹ç›®åè°ƒè€… - ä»»åŠ¡è§„åˆ’, èµ„æºåˆ†é…, è¿›åº¦è·Ÿè¸ª
[13:10:26] [CoordinatorAgent] åˆ›å»ºäº† 4 ä¸ªä»»åŠ¡
[13:10:26] [CoordinatorAgent] ä»»åŠ¡å®Œæˆ: coordinator

[æ‰§è¡Œ] analyst: æ–‡æ¡£åˆ†æå¸ˆ - å†…å®¹åˆ†æ, ç»“æ„è¯†åˆ«, å…³é”®è¯æå–
[13:10:26] [AnalystAgent] åˆ†æå®Œæˆ: 29 è¯, 23 è¡Œ
[13:10:26] [AnalystAgent] å…³é”®è¯: äººå·¥æ™ºèƒ½, å‘å±•é˜¶æ®µ, åº”ç”¨é¢†åŸŸ
[13:10:26] [AnalystAgent] ä»»åŠ¡å®Œæˆ: analyst

[æ‰§è¡Œ] processor: æ–‡æ¡£å¤„ç†å™¨ - æ–‡æœ¬ä¼˜åŒ–, æ ¼å¼æ•´ç†, å†…å®¹å¢å¼º
[13:10:26] [ProcessorAgent] å¤„ç†å®Œæˆ: æ¸…ç†, æ‘˜è¦, å¢å¼º, æ ¼å¼åŒ–
[13:10:26] [ProcessorAgent] ä»»åŠ¡å®Œæˆ: processor

[æ‰§è¡Œ] reviewer: è´¨é‡å®¡æŸ¥å¸ˆ - è´¨é‡è¯„ä¼°, æŠ¥å‘Šç”Ÿæˆ, å»ºè®®æä¾›
[13:10:26] [ReviewerAgent] å®¡æŸ¥å®Œæˆï¼Œå·²ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š
[13:10:26] [ReviewerAgent] æ€»ä½“è¯„åˆ†: 89.8/100
[13:10:26] [ReviewerAgent] ä»»åŠ¡å®Œæˆ: reviewer

======================================================================
ğŸ“Š å¤„ç†å®Œæˆæ‘˜è¦
======================================================================

â° å¤„ç†æ—¶é—´: 2026-01-15T13:10:26
ğŸ“ è¯æ•°ç»Ÿè®¡: 29 è¯

ğŸ” åˆ†æç»“æœ:
   - è¯æ•°: 29
   - è¡Œæ•°: 23
   - æƒ…æ„Ÿ: ç§¯æ
   - å¤æ‚åº¦: ä¸­ç­‰
   - å…³é”®è¯: äººå·¥æ™ºèƒ½, å‘å±•é˜¶æ®µ, åº”ç”¨é¢†åŸŸ

ğŸ“ˆ è´¨é‡è¯„åˆ†:
   - æ–‡æœ¬è´¨é‡: 55.0/100
   - å¤„ç†å®Œæ•´åº¦: 100.0/100
   - åˆ†ææ·±åº¦: 100.0/100
   - ç»¼åˆè¯„åˆ†: 89.8/100

ğŸ’¡ æ”¹è¿›å»ºè®®:
   1. æ–‡æœ¬è¾ƒçŸ­ï¼Œå»ºè®®æ‰©å±•å†…å®¹
   2. æ–‡æœ¬ç®€å•ï¼Œé€‚åˆå¿«é€Ÿé˜…è¯»

======================================================================
```

## ğŸ’¡ æ‰©å±•æ–¹å‘

### 1. æ·»åŠ æ–°Agent

```python
class TranslatorAgent(BaseAgent):
    """ç¿»è¯‘Agent"""

    def __init__(self):
        super().__init__(
            name="translator",
            role="æ–‡æ¡£ç¿»è¯‘å¸ˆ",
            expertise=["å¤šè¯­è¨€ç¿»è¯‘", "æœ¬åœ°åŒ–", "æ–‡åŒ–é€‚é…"]
        )

    def process(self, state: State) -> State:
        # å®ç°ç¿»è¯‘é€»è¾‘
        pass
```

### 2. å¹¶è¡Œå·¥ä½œæ¨¡å¼

```python
# è®©Analystå’Œå¤šä¸ªProcessorå¹¶è¡Œå·¥ä½œ
graph.add_conditional_edge(
    "analyst",
    lambda state: "parallel_process",
    {
        "parallel_process": "processor_english",
        # å¯ä»¥æ·»åŠ æ›´å¤šå¹¶è¡Œåˆ†æ”¯
    }
)
```

### 3. åŠ¨æ€è·¯ç”±

```python
# æ ¹æ®æ–‡æœ¬å¤æ‚åº¦é€‰æ‹©ä¸åŒå¤„ç†è·¯å¾„
graph.add_conditional_edge(
    "analyst",
    lambda state: "complex" if state['data']['analysis']['complexity'] == 'å¤æ‚' else "simple",
    {
        "complex": "advanced_processor",
        "simple": "simple_processor"
    }
)
```

### 4. Agenté€šä¿¡

```python
# Agentä¹‹é—´å¯ä»¥é€šè¿‡çŠ¶æ€ä¼ é€’æ¶ˆæ¯
class CoordinatorAgent(BaseAgent):
    def process(self, state: State) -> State:
        # å‘é€æ¶ˆæ¯ç»™å…¶ä»–Agent
        state['data']['messages'] = {
            'analyst': 'é‡ç‚¹å…³æ³¨æŠ€æœ¯æœ¯è¯­',
            'processor': 'ä¿æŒä¸“ä¸šæ ¼å¼'
        }
        return state
```

## ğŸ¯ ä¸ç°æœ‰æ¡†æ¶çš„å¯¹æ¯”

| ç‰¹æ€§ | æœ¬åŸå‹ | LangGraph | AutoGen | CrewAI |
|------|--------|-----------|---------|--------|
| **è½»é‡çº§** | âœ… | âŒ | âŒ | âŒ |
| **å›¾å¼ç¼–æ’** | âœ… | âœ… | âŒ | âœ… |
| **çŠ¶æ€ç®¡ç†** | âœ… | âœ… | âœ… | âœ… |
| **æ¡ä»¶è·¯ç”±** | âœ… | âœ… | âŒ | âœ… |
| **æ£€æŸ¥ç‚¹** | âŒ | âœ… | âŒ | âœ… |
| **å¯è§†åŒ–** | âŒ | âœ… | âŒ | âœ… |
| **æ˜“æ‰©å±•** | âœ… | âœ… | âœ… | âœ… |

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [WorkflowEngineå®ç°](00_Agent_Library/workflow_engine.py)
- [AgentToolkitå·¥å…·æ¡†æ¶](00_Agent_Library/agent_toolkit.py)
- [æƒ³æ³•è½åœ°å·¥ä½œæµ](00_Agent_Library/idea_workflow_engine.py)

## ğŸ”— å‚è€ƒèµ„æ–™

- [Anthropicå¤šAgentå·¥ç¨‹å®è·µ](https://www.51cto.com/article/834194.html)
- [Steve Yegge: Vibe Coding](https://www.infoq.cn/article/Qyqio9tXIB7zoeE3xVZQ)

---

**ä½œè€…**: Claude Code
**åˆ›å»ºæ—¥æœŸ**: 2026-01-15
**ç‰ˆæœ¬**: 1.0.0
**è®¸å¯è¯**: MIT
